<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DPDP CMP — Savings Account Notice (Test)</title>

  <style>
    :root{
      --bg:#0b1220;
      --card:#111a2e;
      --card2:#0f172a;
      --text:#e8eefc;
      --muted:#b8c3e6;
      --border:rgba(255,255,255,.10);
      --accent:#6ea8fe;
      --ok:#22c55e;
      --warn:#f59e0b;
    }
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: linear-gradient(180deg, var(--bg), #060b16);
      color:var(--text);
    }
    .wrap{max-width:920px; margin:0 auto; padding:24px 16px 56px;}
    .topbar{
      display:flex; gap:12px; align-items:center; justify-content:space-between;
      padding:14px 16px; border:1px solid var(--border); background:rgba(17,26,46,.65);
      border-radius:14px; backdrop-filter: blur(8px);
      margin-bottom:18px;
    }
    .title h1{font-size:18px; margin:0;}
    .title p{margin:4px 0 0; color:var(--muted); font-size:13px;}
    .pill{
      font-size:12px; color:var(--muted); border:1px solid var(--border);
      padding:6px 10px; border-radius:999px; background:rgba(255,255,255,.03);
      white-space:nowrap;
    }

    .cmp-notice{
      border:1px solid var(--border);
      background: rgba(17,26,46,.7);
      border-radius:16px;
      padding:18px 16px;
      box-shadow: 0 10px 30px rgba(0,0,0,.35);
    }
    .cmp-notice h2{margin:0 0 8px; font-size:18px;}
    .cmp-notice p{margin:0 0 12px; color:var(--muted); line-height:1.4;}
    .section{
      margin-top:14px;
      padding-top:14px;
      border-top:1px dashed rgba(255,255,255,.12);
    }
    .section h3{margin:0 0 8px; font-size:14px; color:var(--text);}

    .cmp-purpose{
      display:flex;
      align-items:flex-start;
      gap:10px;
      padding:12px;
      border:1px solid var(--border);
      border-radius:14px;
      background: rgba(15,23,42,.55);
      margin:10px 0;
    }
    .cmp-purpose label{display:block; font-weight:600; cursor:pointer;}
    .purpose-note{margin:6px 0 0; color:var(--muted); font-size:12.5px;}
    .badge{
      display:inline-block;
      font-size:11px;
      padding:3px 8px;
      border-radius:999px;
      border:1px solid var(--border);
      margin-left:8px;
      color:var(--muted);
    }
    .badge.mand{border-color: rgba(34,197,94,.45); color:#bff7cf; background: rgba(34,197,94,.08);}
    .badge.opt{border-color: rgba(110,168,254,.45); color:#d7e7ff; background: rgba(110,168,254,.08);}

    input[type="checkbox"]{
      width:18px; height:18px; margin-top:2px;
      accent-color: var(--accent);
      cursor:pointer;
    }
    .mandatory input[type="checkbox"]{accent-color: var(--ok); cursor:not-allowed;}
    .mandatory label{cursor:default;}

    details{
      border:1px solid var(--border);
      border-radius:14px;
      padding:10px 12px;
      background: rgba(15,23,42,.35);
      margin-top:12px;
    }
    summary{
      cursor:pointer;
      font-weight:600;
      color:var(--text);
      list-style:none;
    }
    summary::-webkit-details-marker{display:none;}
    .small{font-size:12.5px; color:var(--muted); line-height:1.45; margin-top:8px;}
    ul{margin:8px 0 0 18px; color:var(--muted);}

    .cmp-footer-note{
      margin:12px 0 0;
      font-size:12.5px;
      color:var(--muted);
    }
    .cmp-submit{
      margin-top:14px;
      width:100%;
      border:none;
      background: linear-gradient(90deg, #4f8cff, #7aa9ff);
      color:#071022;
      font-weight:700;
      padding:12px 14px;
      border-radius:12px;
      cursor:pointer;
      transition: transform .05s ease;
    }
    .cmp-submit:active{transform: translateY(1px);}
    .toast{
      margin-top:12px;
      padding:10px 12px;
      border-radius:12px;
      border:1px solid var(--border);
      background: rgba(34,197,94,.08);
      color:#c9ffe0;
      display:none;
      font-size:13px;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="topbar">
      <div class="title">
        <h1>DPDP CMP — Savings Account Notice (Test)</h1>
        <p>Testing layout, colors, toggles, and “non-overwhelming” UX.</p>
      </div>
      <span class="pill">Product Notice • Savings Account</span>
    </div>

    <!-- SAVINGS NOTICE (CMP-READY) -->
    <div class="cmp-notice" data-product="savings-account">
      <h2>Savings Account – Data Use & Consent</h2>
      <p>
        We use your personal data to open and operate your Savings Account, keep it secure,
        and meet legal requirements. Optional choices help us improve services and share offers if you want.
      </p>

      <div class="section">
        <h3>Consent choices</h3>

        <!-- Mandatory -->
        <div class="cmp-purpose mandatory">
          <input type="checkbox" checked disabled />
          <div>
            <label>
              Account operation, transactions, security, and legal compliance
              <span class="badge mand">Mandatory</span>
            </label>
            <p class="purpose-note">
              Needed to provide the account and comply with banking / financial laws. This is locked.
            </p>
          </div>
        </div>

        <!-- Optional -->
        <div class="cmp-purpose optional">
          <input type="checkbox" data-purpose-id="SA_MKTG" />
          <div>
            <label>
              Receive offers and promotional messages
              <span class="badge opt">Optional</span>
            </label>
            <p class="purpose-note">You can switch this off anytime. Core services won’t be affected.</p>
          </div>
        </div>

        <!-- Optional -->
        <div class="cmp-purpose optional">
          <input type="checkbox" data-purpose-id="SA_ANALYTICS" />
          <div>
            <label>
              Use data for non-essential service improvement analytics
              <span class="badge opt">Optional</span>
            </label>
            <p class="purpose-note">Helps improve app experience and service quality.</p>
          </div>
        </div>

        <details>
          <summary>More details (what data, retention, withdrawal)</summary>
          <div class="small">
            <b>Data used:</b>
            <ul>
              <li>Identity & KYC details (e.g., PAN; Aadhaar only where permitted)</li>
              <li>Contact details (mobile/email/address)</li>
              <li>Account & transaction data</li>
              <li>Compliance & audit records</li>
              <li>Digital banking logs (if enabled)</li>
            </ul>

            <p class="small">
              <b>Retention:</b> We keep data while your account is active and thereafter as required by
              applicable banking/financial laws. After that, data is archived, anonymised, or deleted as per policy.
            </p>

            <p class="small">
              <b>Withdrawal:</b> You can withdraw optional consent anytime (as easily as giving consent).
              Mandatory processing cannot be withdrawn where required for account operation or law.
            </p>

            <p class="small">
              <b>Your rights:</b> View consent history, update/withdraw optional consent, request support and raise grievances via the institution’s published channel / DPO.
            </p>
          </div>
        </details>

        <p class="cmp-footer-note">
          Tip: Optional consent can be changed later from Profile → Privacy Settings.
        </p>

        <button class="cmp-submit" id="saveBtn">Save Preferences</button>
        <div class="toast" id="toast">Saved. Your optional choices have been updated.</div>
      </div>
    </div>
  </div>

  <script>
    const saveBtn = document.getElementById("saveBtn");
    const toast = document.getElementById("toast");

    saveBtn.addEventListener("click", () => {
      // In real CMP, you'd persist these values and generate a consent artifact.
      // For test: just show a success state.
      toast.style.display = "block";
      setTimeout(() => toast.style.display = "none", 2200);
    });
  </script>
</body>
</html>
